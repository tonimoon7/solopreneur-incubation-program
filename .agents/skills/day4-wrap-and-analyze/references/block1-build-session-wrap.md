# Block 1: session-wrap 스킬 직접 만들기

> 공식 문서: https://code.claude.com/docs/ko/skills
> 참고: https://code.claude.com/docs/ko/sub-agents

## EXPLAIN

Block 0에서 session-wrap의 구조와 multi-agent 원리를 이해했습니다. 이제 직접 SKILL.md를 만들어봅니다.

### 스킬 파일 구조 복습 (Day 1 Block 3-2 복습)

스킬은 파일 하나면 됩니다:

```
my-session-wrap/
└── SKILL.md       <- 이것만 만들면 스킬이 된다
```

Day 1에서 배운 것처럼, `SKILL.md` 파일 하나가 스킬의 전부입니다. 이 파일 안에 "언제 실행할지", "무엇을 할지", "어떤 순서로 할지"를 모두 적습니다.

### SKILL.md를 6단계로 만든다

오늘은 session-wrap 스킬의 SKILL.md를 6단계에 걸쳐 완성합니다:

| 단계 | 내용 | 하는 일 |
|------|------|---------|
| Step 1 | frontmatter (이름표) | 스킬 이름과 설명 |
| Step 2 | Execution Flow | 실행 흐름 다이어그램 |
| Step 3 | 변경 내용 확인 | 오늘 뭘 했는지 파악 |
| Step 4 | Phase 1 - 병렬 에이전트 4개 | 동시에 4가지 분석 |
| Step 5 | Phase 2 - 검증 에이전트 | 결과 중복 체크 |
| Step 6 | 결과 통합 + 사용자 선택 | 보여주고 선택받기 |

### 비유: "레시피 작성하기"

요리 레시피를 쓴다고 생각해보세요. 우리가 만드는 SKILL.md도 같은 구조입니다:

```
Step 1: 요리 이름과 소개     -> frontmatter (이 스킬이 뭔지 한 줄 소개)
Step 2: 완성 사진             -> 다이어그램 (전체 흐름을 한눈에)
Step 3: 재료 준비             -> 변경 내용 확인 (오늘 뭘 했는지 파악)
Step 4: 4가지 반찬 동시 조리  -> 병렬 에이전트 (각자 다른 분석을 동시에)
Step 5: 맛 검수               -> 검증 에이전트 (중복이나 빠진 게 없는지 확인)
Step 6: 상차리기              -> 결과 통합 (정리해서 보여주고, 실행할 것 선택)
```

핵심은 **Step 4**입니다. 반찬 4가지를 한 명이 순서대로 만들면 오래 걸리지만, 4명이 각자 하나씩 동시에 만들면 빠릅니다. session-wrap도 4개 에이전트가 동시에 분석해서 시간을 절약합니다.

### 각 단계를 하나씩 Claude에게 시키면서 만든다

중요한 점: 한 번에 다 만들라고 하지 않습니다. **한 단계씩** Claude에게 시키면서 결과를 확인하고, 다음 단계로 넘어갑니다. 마치 요리할 때 재료 손질 끝내고, 다음 조리 단계로 가는 것처럼요.

---

## EXECUTE

아래 순서대로 진행합니다.

> **안심하세요**: 아래 프롬프트를 Claude에게 복사해서 붙여넣기만 하면 됩니다. **코드는 Claude가 작성합니다.** 여러분은 프롬프트를 주고 결과를 확인하는 것이 전부입니다. 지금 이 세션에서 그대로 입력하면 됩니다.

### 준비

아래 프롬프트를 Claude에게 입력합니다:

```
나만의 session-wrap 스킬을 만들 거야.
.claude/skills/my-session-wrap/ 폴더를 만들고, SKILL.md 파일을 생성해줘.
먼저 빈 파일로 시작하자.
```

### Step 1: frontmatter(이름표) 추가

스킬의 이름표를 붙입니다. 요리 레시피의 제목과 소개글에 해당합니다.

> **frontmatter란?** 파일 맨 위에 `---`로 감싸서 적는 "이름표"입니다. 책의 표지에 제목과 저자를 적는 것처럼, 스킬 파일에도 이름(name)과 설명(description)을 적어야 Claude가 "아, 이 스킬은 세션 정리할 때 쓰는 거구나"라고 인식합니다.

```
my-session-wrap/SKILL.md에 frontmatter(이름표)를 추가해줘:
- name: my-session-wrap
- description: 세션 종료 시 작업 정리, 문서 업데이트, 학습 기록을 하는 스킬. "/wrap", "세션 정리", "마무리" 요청에 사용.
```

### Step 2: Execution Flow 다이어그램 추가

완성된 요리의 사진을 먼저 보여주는 것처럼, 전체 실행 흐름을 한눈에 볼 수 있는 다이어그램을 추가합니다.

```
SKILL.md에 실행 흐름 다이어그램을 추가해줘.
5단계로 구성해:
1. Git 상태 확인
2. Phase 1: 4개 분석 에이전트 병렬 실행
3. Phase 2: 검증 에이전트 순차 실행
4. 결과 통합
5. 사용자 선택 + 실행

ASCII 박스 다이어그램으로 만들어줘.
```

> 다이어그램이 있으면 Claude도 전체 구조를 이해하고 각 단계를 정확히 실행합니다. 사람과 AI 모두에게 "지도" 역할을 합니다.

### Step 3: 변경 내용 확인 섹션 추가

재료를 확인하는 단계입니다. "오늘 이 세션에서 뭘 했는지"를 파악합니다.

```
SKILL.md에 Step 1: 변경 내용 확인 섹션을 추가해줘.
"오늘 이 세션에서 어떤 파일을 만들거나 수정했는지" 파악하는 부분이야.
변경 내용을 자동으로 요약하는 구조로 만들어줘.
```

> 이 부분은 "오늘 뭘 했는지" 확인하는 단계입니다. Claude가 자동으로 변경 사항을 확인합니다. 여러분이 직접 뭔가를 칠 필요는 없습니다. 스킬이 실행되면 Claude가 알아서 처리합니다.

> 여기까지 완료했으면, Claude에게 "지금까지 만든 SKILL.md를 보여줘"라고 입력해서 중간 결과를 확인하세요. Step 1~3이 모두 들어가 있으면 다음 단계로 넘어갑니다.

> **Fast Track**: 시간이 부족하거나 빠르게 진행하고 싶다면, Step 4~6을 한 번에 요청할 수도 있습니다:
> "session-wrap 원본을 참고해서 Phase 1(4개 병렬 에이전트), Phase 2(검증), 결과 통합 섹션을 한꺼번에 추가해줘"

### Step 4: Phase 1 병렬 에이전트 추가

4가지 반찬을 동시에 만드는 단계입니다. 이 부분이 session-wrap의 핵심입니다.

```
SKILL.md에 Phase 1 섹션을 추가해줘.
4개의 전문가 에이전트가 동시에 분석하는 부분이야:
1. doc-updater: 문서 중 업데이트할 곳 찾기
2. automation-scout: 반복 패턴 발견 -> 자동화 제안
3. learning-extractor: 오늘 배운 것 정리
4. followup-suggester: 다음에 할 일 제안

각 에이전트가 동시에 실행되도록 작성해줘.
Block 0에서 본 session-wrap 원본의 구조를 참고해서 만들어줘.
```

> 4개 에이전트는 각자 독립적으로 분석합니다:
> - **doc-updater**: "CLAUDE.md에 오늘 작업 내용을 반영해야 할까?"
> - **automation-scout**: "반복되는 패턴이 있으면 스킬이나 스크립트로 만들 수 있을까?"
> - **learning-extractor**: "오늘 배운 것을 정리"
> - **followup-suggester**: "내일 이어서 할 일은 뭐가 있을까?"
>
> 이 4개가 서로 의존하지 않으므로 동시에(병렬로) 실행됩니다.

### Step 5: Phase 2 검증 에이전트 추가

맛 검수 단계입니다. Phase 1에서 4명이 만든 결과를 한 명이 검수합니다.

```
SKILL.md에 Phase 2 섹션을 추가해줘.
duplicate-checker 에이전트가 Phase 1 결과를 검증하는 부분이야.
Phase 1 결과를 받아서 중복을 확인하고,
완전 중복은 제거, 부분 중복은 병합을 제안하는 구조로.
```

> 왜 검증이 필요할까요? 예를 들어 doc-updater가 "CLAUDE.md에 새 스킬 추가 기록"을 제안하고, followup-suggester도 "CLAUDE.md 업데이트 필요"를 제안하면 중복입니다. duplicate-checker가 이런 중복을 잡아냅니다.

### Step 6: 결과 통합 + 사용자 선택 추가

상차리기 단계입니다. 모든 결과를 정리해서 보여주고, 사용자가 실행할 작업을 고릅니다.

```
SKILL.md의 마지막에 결과 통합과 사용자 선택 섹션을 추가해줘.
1. 4개 에이전트 결과 + 검증 결과를 합쳐서 보여주기
2. AskUserQuestion으로 사용자에게 어떤 작업을 실행할지 선택받기
   (커밋, 문서 업데이트, 자동화 생성, 건너뛰기)
3. 선택된 작업만 실행
```

> 자동으로 모든 것을 실행하지 않고, 사용자에게 선택권을 줍니다. "커밋만 할게", "문서 업데이트도 해줘", "오늘은 건너뛸게" 등 상황에 맞게 선택할 수 있습니다.

### (선택) 언제 쓰고 언제 안 쓸지

원본 session-wrap에는 "언제 사용하고, 언제 건너뛸지" 가이드가 있습니다. 여러분의 스킬에도 넣고 싶다면:

```
SKILL.md 마지막에 Quick Reference 섹션을 추가해줘.
- 언제 사용하면 좋은지 (긴 작업 세션 후, 프로젝트 전환 시)
- 언제 건너뛰어도 되는지 (짧은 질문, 코드만 읽은 경우)
```

### 최종 확인

모든 단계가 끝나면 전체 결과를 확인합니다:

```
만들어진 my-session-wrap/SKILL.md 전체 내용을 보여줘.
```

완성된 SKILL.md가 6개 섹션(이름표, 다이어그램, 변경 내용 확인, Phase 1, Phase 2, 결과 통합)을 모두 갖고 있는지 확인합니다.

> **만약 내용이 이상하거나 빠진 부분이 있다면**, Claude에게 이렇게 요청하세요:
> "session-wrap 원본 스킬을 참고해서, 내 my-session-wrap 스킬을 완성해줘"
> Claude가 원본과 비교해서 빠진 부분을 채워줍니다.

> **파일은 안전합니다**: 만든 `SKILL.md` 파일은 프로젝트 폴더에 저장됩니다. 이 세션을 닫거나 새 세션을 열어도 파일은 사라지지 않습니다. Block 2에서 새 세션을 열었을 때도 그대로 남아 있습니다.

---

## QUIZ

```json
AskUserQuestion({
  "questions": [{
    "question": "session-wrap 스킬에서 Phase 1의 4개 에이전트가 '병렬'로 실행되는 이유는?",
    "header": "Quiz 1",
    "options": [
      {"label": "서로 의존하지 않아서 동시에 실행 가능", "description": "4개 에이전트가 각자 독립적으로 분석"},
      {"label": "순서대로 하면 결과가 달라져서", "description": "실행 순서가 결과에 영향"},
      {"label": "에이전트끼리 대화해야 해서", "description": "협업을 위한 병렬 처리"}
    ],
    "multiSelect": false
  }]
})
```

정답: 1번. 4개 에이전트는 각자 독립적인 분석을 수행한다. doc-updater는 문서만 보고, automation-scout는 패턴만 보고, 각자 다른 관점에서 분석하므로 서로 기다릴 필요가 없다. 그래서 동시에(병렬로) 실행해서 시간을 절약한다.
