> 공식 문서: https://code.claude.com/docs/ko/sub-agents

## EXPLAIN

### 1. Multi-agent란?

**비유: "회사 퇴근 전 마감 회의"**

회사에서 퇴근 전에 팀장 4명에게 동시에 보고를 받는 상황을 떠올려보세요.

- 문서담당 팀장: "오늘 보고서 3건 업데이트했습니다"
- 자동화담당 팀장: "매주 반복되는 이 작업, 자동화할 수 있습니다"
- 학습담당 팀장: "이번 주 프로젝트에서 이런 걸 배웠습니다"
- 후속작업담당 팀장: "다음 주에 이것부터 해야 합니다"

**Claude Code도 똑같이 합니다.** 하나의 Claude가 혼자 다 하는 게 아니라, 여러 전문 에이전트(sub-agent)에게 동시에 일을 시킵니다. 각자 맡은 분야를 분석하고, 결과를 모아서 보고합니다.

이건 Day 1 Block 3-4에서 배운 subagent(Task)의 확장입니다. 그때는 하나의 subagent에게 하나의 일을 시켰다면, 이제는 **여러 subagent에게 동시에 여러 일을 시키는 것**입니다.

---

### 2. 2-Phase Pipeline (핵심 패턴)

Multi-agent를 실제로 쓸 때, 가장 많이 쓰는 패턴이 **2-Phase Pipeline**입니다.

**Phase 1: 4명의 전문가가 동시에 분석 (병렬)**

> "병렬"이란? 여러 작업을 동시에 처리하는 것입니다. 4명의 팀장에게 한꺼번에 보고를 받는 것과 같습니다. (반대: "순차" = 한 명씩 차례로 보고받는 것)

| 전문가 | 하는 일 |
|--------|---------|
| doc-updater | 문서 중 업데이트가 필요한 곳을 찾아냄 |
| automation-scout | 반복되는 패턴을 발견하고 자동화를 제안 |
| learning-extractor | 오늘 배운 것을 정리 |
| followup-suggester | 다음에 할 일을 제안 |

4명이 **동시에** 각자 분석합니다. 순서대로 하나씩 하는 게 아니라, 한꺼번에 진행하니까 빠릅니다.

**Phase 2: 검증 담당이 중복 확인**

| 전문가 | 하는 일 |
|--------|---------|
| duplicate-checker | Phase 1 결과에서 겹치는 내용을 걸러냄 |

왜 Phase 2가 필요할까요? **전문가 4명이 독립적으로 일하면, 비슷한 걸 제안할 수 있기 때문입니다.** 예를 들어 doc-updater가 "README 업데이트 필요"라고 하고, followup-suggester도 "다음에 README 수정하세요"라고 할 수 있죠. duplicate-checker가 이런 중복을 정리해서 깔끔한 결과만 남깁니다.

---

### 3. session-wrap이란?

**비유: "퇴근 전 책상 정리 루틴"**

매일 퇴근 전에 하는 루틴이 있다고 생각해보세요.

- 오늘 한 일 정리
- 배운 것 메모
- 내일 할 일 목록 작성
- 책상 위 서류 정돈

**session-wrap**은 Claude Code 세션을 끝낼 때 자동으로 실행되는 "종합 정리 스킬"입니다. 위에서 배운 Multi-agent + 2-Phase Pipeline을 활용해서, 오늘의 작업을 체계적으로 정리해줍니다.

**전체 흐름 다이어그램:**

```
┌─────────────────────────────────────────────────┐
│  1. 변경 내용 확인 (오늘 뭘 했나?)                  │
├─────────────────────────────────────────────────┤
│  2. Phase 1: 4명의 전문가 동시 분석               │
│     ┌────────────────┬────────────────┐          │
│     │  문서 업데이트    │  자동화 발견    │          │
│     ├────────────────┼────────────────┤          │
│     │  배운 것 정리    │  다음 할 일     │          │
│     └────────────────┴────────────────┘          │
├─────────────────────────────────────────────────┤
│  3. Phase 2: 중복 검증 (같은 말 안 하게)           │
├─────────────────────────────────────────────────┤
│  4. 결과 통합 + 사용자 선택                        │
├─────────────────────────────────────────────────┤
│  5. 선택한 작업 실행                               │
└─────────────────────────────────────────────────┘
```

정리하면, session-wrap은 **"내가 퇴근 전에 일일이 정리할 필요 없이, Claude가 알아서 팀장 4명에게 보고를 받고 정리해주는 것"**입니다.

---

## EXECUTE

아래 순서대로 따라해보세요.

### Step 0. 플러그인 확인

session-wrap 원본 스킬은 플러그인으로 이미 설치되어 있습니다. 아래 명령어로 확인하세요:

```
설치된 플러그인 목록을 보여줘
```

목록에 `session-wrap`이 있으면 다음 단계로 넘어갑니다. 없다면 강사에게 문의하세요.

### Step 1. session-wrap 원본 읽어보기

Claude Code에서 아래 명령어를 입력하세요:

```
설치된 session-wrap 스킬의 SKILL.md 내용을 보여줘
```

Claude가 session-wrap 스킬의 전체 내용을 보여줄 것입니다. 천천히 읽어보세요.

> 만약 "session-wrap 스킬을 찾을 수 없다"고 나오면, `npx skills add ai-native-camp/camp-1 --agent claude-code --yes`를 실행해서 최신 스킬을 설치하세요.

### Step 2. 구조 분석

원본 스킬을 읽고 다음 3가지를 파악해보세요:

- **에이전트가 몇 개인지** - 이름과 역할을 세어보세요
- **어떤 순서로 실행되는지** - Phase 1이 먼저인지, Phase 2가 먼저인지
- **왜 Phase 1과 Phase 2로 나눠져 있는지** - EXPLAIN에서 배운 이유를 떠올려보세요

### Step 2.5. 원본 스킬 구조 매핑

Claude에게 아래와 같이 요청해보세요:

```
session-wrap SKILL.md에서 각 섹션이 하는 역할을 표로 정리해줘. 이름표 부분, 실행 흐름, 단계별 내용을 구분해서.
```

> "frontmatter"라는 용어가 나올 수 있는데, 이것은 파일 맨 위에 적는 "이름표"입니다. Block 1에서 자세히 배웁니다.

이 표가 Block 1에서 직접 만들 때의 "설계도"가 됩니다.

### Step 3. 자유 탐색 (선택)

시간이 있다면, 원본 스킬을 보면서 아래 중 하나를 Claude에게 질문해보세요:

- "이 스킬에서 doc-updater가 구체적으로 뭘 분석하는 거야?"
- "왜 에이전트를 4개로 나눈 거야? 2개나 6개는 안 돼?"
- "이걸 마케팅 업무에 적용하면 어떤 모습이 될까?"

> 정답이 있는 질문이 아닙니다. 구조를 탐색하는 과정 자체가 학습입니다.

---

## QUIZ

```json
AskUserQuestion({
  "questions": [{
    "question": "session-wrap의 2-Phase Pipeline에서, Phase 2(duplicate-checker)가 필요한 이유는?",
    "header": "Quiz 0",
    "options": [
      {"label": "4명의 전문가가 비슷한 제안을 할 수 있어서", "description": "중복을 걸러내야 깔끔한 결과가 나온다"},
      {"label": "Phase 1의 에이전트가 틀릴 수 있어서", "description": "정확도 검증이 목적"},
      {"label": "속도를 높이기 위해서", "description": "병렬 처리와 관련된 이유"}
    ],
    "multiSelect": false
  }]
})
```

**정답: 1번.** Phase 1에서 4명의 전문가가 독립적으로 분석하면, 비슷한 제안이 나올 수 있다. Phase 2의 duplicate-checker가 이런 중복을 걸러내서 깔끔한 결과만 사용자에게 보여준다.
